<div class="container">
  <mat-card class="section">
    <div class="header">
      <span *ngIf="stat.allPlayers; else noPlayersTemplate">
        Active players:&nbsp;
        <span class="bold"> {{ stat.activePlayers }}</span>
        &nbsp;/&nbsp;
        <span class="bold"> {{ stat.allPlayers }}</span>
      </span>
      <ng-template #noPlayersTemplate>No players, please add one</ng-template>
      <button mat-button color="primary" class="btn btn-add" (click)="editPlayer()">Add player</button>
    </div>
    <div class="list">
      <div class="player animated" *ngFor="let player of players; trackBy: trackById" [ngClass]="{ disabled: player.disabled }" (click)="togglePlayer(player)">
        <!-- <mat-icon class="player-icon">person</mat-icon> -->
        <img *ngIf="player.photo; else noPlayerPhotoTemplate" class="photo player-photo" src="{{ player.photo }}" alt="" />
        <ng-template #noPlayerPhotoTemplate>
          <div class="icon-wrapper">
            <mat-icon class="icon player-icon">person</mat-icon>
          </div>
        </ng-template>
        <div class="name primary player-name">{{ player.name }}</div>
      </div>
    </div>
  </mat-card>
  <mat-card class="section">
    <div class="header">
      <span>
        Time to play:
        <span class="bold">
          {{ timeToPlay.name }}
          <ng-container *ngIf="timeToPlay.text">&nbsp;({{ timeToPlay.text }})</ng-container>
        </span>
      </span>
    </div>
    <div class="list">
      <div class="time animated" *ngFor="let time of timeToPlayList" [ngClass]="{ selected: time === timeToPlay }" (click)="selectTime(time)">
        <div class="time-value primary">{{ time.name }}</div>
        <div *ngIf="time.text" class="time-text accent">{{ time.text }}</div>
      </div>
    </div>
  </mat-card>
  <mat-card class="section">
    <div class="header">
      <span *ngIf="stat.allGames; else noGamesTemplate">
        Games for
        <span class="bold">{{ stat.activePlayers }}</span>
        players:&nbsp;
        <span class="bold">{{ stat.activeGames }}</span>
        &nbsp;/&nbsp;
        <span class="bold">{{ stat.allGames }}</span>
      </span>
      <ng-template #noGamesTemplate>No games, please add one</ng-template>
      <button mat-button color="primary" class="btn btn-add" (click)="editGame()">Add game</button>
    </div>
    <div class="list">
      <div class="game animated" *ngFor="let game of games; trackBy: trackById" [ngClass]="{ disabled: game.disabled }" (click)="toggleGame(game)">
        <img *ngIf="game.photo; else noGamePhotoTemplate" class="photo game-photo" src="{{ game.photo }}" alt="" />
        <ng-template #noGamePhotoTemplate>
          <div class="icon-wrapper">
            <mat-icon class="icon game-icon">image</mat-icon>
          </div>
        </ng-template>
        <div class="name primary game-name">{{ game.name }}</div>
      </div>
    </div>
  </mat-card>

  <div class="result-container">
    <button mat-raised-button color="primary" class="btn btn-start" [disabled]="inProgress || !games.length" (click)="start(resultText)">Start</button>
    <div #resultText class="result-text animated"></div>
    <img class="result-image animated" *ngIf="result" src="{{ result.photo }}" alt="" />
  </div>
</div>
